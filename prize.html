<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PRIZE POOLS | SKYWORLD LOOTS</title>
    <!-- Google Fonts for Retro Arcade Look -->
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
    <!-- Three.js Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    
    <style>
        :root {
            --neon-pink: #ff00ff;
            --neon-blue: #00ffff;
            --neon-purple: #bc13fe;
            --bg-color: #050505;
            --text-color: #ffffff;
            --terminal-green: #0f0;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: 'Orbitron', sans-serif;
            overflow-x: hidden;
            min-height: 100vh;
        }

        /* Background grid effect */
        .bg-grid {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%), 
                linear-gradient(90deg, rgba(255, 0, 0, 0.06), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.06));
            background-size: 100% 2px, 3px 100%;
            z-index: -1;
        }

        /* 3D Canvas Layer */
        #canvas-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0; /* Behind content */
            opacity: 0.6; /* Subtle effect */
        }

        /* Scanline Effect */
        .scanlines {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to bottom, rgba(255,255,255,0), rgba(255,255,255,0) 50%, rgba(0,0,0,0.2) 50%, rgba(0,0,0,0.2));
            background-size: 100% 4px;
            pointer-events: none;
            z-index: 999;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            text-align: center;
            position: relative;
            z-index: 10; /* Keep content clickable */
        }

        header {
            margin-bottom: 40px;
            border-bottom: 2px solid var(--neon-purple);
            padding-bottom: 20px;
            box-shadow: 0 0 15px var(--neon-purple);
            background: rgba(5, 5, 5, 0.85);
            padding-top: 20px;
        }

        h1 {
            font-family: 'Press Start 2P', cursive;
            color: var(--neon-blue);
            text-shadow: 2px 2px var(--neon-pink), 0 0 20px var(--neon-blue);
            font-size: 2.5rem;
            margin-bottom: 10px;
            line-height: 1.5;
        }

        .subtitle {
            color: var(--neon-pink);
            letter-spacing: 3px;
            font-size: 1.2rem;
            margin-bottom: 20px;
        }

        nav {
            margin-top: 20px;
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 15px;
        }

        .nav-btn {
            background: rgba(0,0,0,0.8);
            border: 2px solid var(--neon-blue);
            color: var(--neon-blue);
            padding: 10px 20px;
            font-family: 'Press Start 2P', cursive;
            font-size: 0.7rem;
            cursor: pointer;
            text-decoration: none;
            transition: 0.3s;
            text-transform: uppercase;
        }

        .nav-btn:hover {
            background: var(--neon-blue);
            color: var(--bg-color);
            box-shadow: 0 0 15px var(--neon-blue);
        }

        /* Highlight active page */
        .active-btn {
            border-color: var(--neon-pink);
            color: var(--neon-pink);
            box-shadow: 0 0 10px var(--neon-pink);
        }

        /* Prize Grid Styles */
        .prize-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            padding: 20px 0;
        }

        .prize-item {
            background-color: rgba(0, 0, 0, 0.8); /* Darker to read text over 3D bg */
            border: 2px solid var(--neon-purple);
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 0 15px var(--neon-purple);
            transition: transform 0.2s, box-shadow 0.2s;
            text-align: center;
            backdrop-filter: blur(5px);
        }

        .prize-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 0 25px var(--neon-pink);
            background-color: rgba(0, 0, 0, 0.9);
        }

        .prize-rank {
            font-family: 'Press Start 2P', cursive;
            color: var(--neon-blue);
            font-size: 0.8rem;
            margin-bottom: 10px;
        }

        .prize-name {
            font-family: 'Orbitron', sans-serif;
            color: var(--terminal-green);
            font-size: 1.1rem;
            text-transform: uppercase;
            margin-bottom: 15px;
            text-shadow: 0 0 5px rgba(15, 255, 0, 0.6); 
        }

        .prize-image-container {
            border: 2px solid var(--neon-pink);
            border-radius: 4px;
            overflow: hidden;
            width: 100%;
            height: 180px;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #1a001a;
            box-shadow: inset 0 0 10px var(--neon-pink);
            cursor: pointer;
        }

        .prize-image-container img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: opacity 0.3s;
            pointer-events: none;
        }

        .prize-image-container img[src*="placehold"] {
            object-fit: contain;
            padding: 10px;
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.95);
            backdrop-filter: blur(5px);
            animation: fadeIn 0.3s;
        }

        .modal-content {
            margin: 15% auto;
            width: 90%;
            max-width: 700px;
            position: relative;
            background-color: var(--bg-color);
            border: 3px solid var(--neon-blue);
            box-shadow: 0 0 30px var(--neon-blue);
            padding: 20px;
            border-radius: 10px;
            animation: zoomIn 0.3s;
        }

        .modal-content img {
            width: 100%;
            height: auto;
            display: block;
            border-radius: 4px;
        }

        .modal-caption {
            font-family: 'Orbitron', sans-serif;
            color: var(--neon-pink);
            padding: 10px 0;
            text-align: center;
            font-size: 1rem;
            text-shadow: 0 0 5px var(--neon-pink);
        }

        .close-btn {
            position: absolute;
            top: -10px;
            right: -10px;
            color: var(--neon-pink);
            font-size: 30px;
            font-weight: bold;
            cursor: pointer;
            padding: 0 10px;
            border: 2px solid var(--neon-pink);
            background-color: var(--bg-color);
            border-radius: 50%;
            line-height: 1.2;
            transition: 0.3s;
        }

        .close-btn:hover {
            color: var(--neon-blue);
            border-color: var(--neon-blue);
            box-shadow: 0 0 10px var(--neon-blue);
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes zoomIn {
            from { transform: scale(0.7); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }

        @media (max-width: 600px) {
            h1 { font-size: 1.5rem; }
            .subtitle { font-size: 0.9rem; }
            .nav-btn { width: 100%; margin-bottom: 5px;}
            .prize-grid { grid-template-columns: 1fr; }
            .modal-content { margin: 30% auto; max-width: 95%; }
        }
    </style>
</head>
<body>

<div class="bg-grid"></div>
<div class="scanlines"></div>
<div id="canvas-container"></div>

<div class="container">
    <header>
        <h1>PRIZE POOL</h1>
        <div class="subtitle">17 LOOTS TO BE AWARDED // MAXIMUM REWARD</div>

        <nav>
            <a href="index.html" class="nav-btn">Home</a>
            <a href="scoreboard.html" class="nav-btn">Scoreboard</a>
            <a href="gamerules.html" class="nav-btn">Game Rules</a>
            <a href="themepark.html" class="nav-btn">Theme Park</a>
            <a href="prize.html" class="nav-btn active-btn">Prize Pools</a>
            <a href="wish.html" class="nav-btn">Secret Santa</a>
            <a href="others.html" class="nav-btn">Others</a>
        </nav>
    </header>

    <div id="prize-grid" class="prize-grid">
        <!-- Dynamic prize items populated via JavaScript -->
    </div>
</div>

<!-- Prize Modal -->
<div id="prizeModal" class="modal">
    <div class="modal-content">
        <span class="close-btn">&times;</span>
        <img id="modalImage" src="" alt="Enlarged Prize Image">
        <div id="modalCaption" class="modal-caption"></div>
    </div>
</div>

<script>
    const prizeFiles = [
        '43 Inch TV.jpg', 
        'Air Fryer.jpg',
        'Air Purifier.jpg',
        'Bear Cooker.jpg',
        'Bear Oven.jpg',
        'Mystery Gift A.jpg',
        'Mystery Gift B.jpg',
        'Oppo Tab SE.jpg',
        'Premium Combo.jpg',
        'Premium Earbud.jpg',
        'Robot Vacuum.jpg',
        'Small Fridge.jpg',
        'Smart Speaker.jpg',
        'Smart Watch.jpg',
        'Sony Speaker.jpg',
        'Vacuum Cleaner 1.jpg',
        'Vacuum Cleaner 2.jpg'
    ];

    document.addEventListener('DOMContentLoaded', () => {
        // --- PRIZE GRID LOGIC ---
        const prizeGrid = document.getElementById('prize-grid');
        const modal = document.getElementById('prizeModal');
        const modalImage = document.getElementById('modalImage');
        const modalCaption = document.getElementById('modalCaption');
        const closeBtn = document.querySelector('.close-btn');

        prizeFiles.forEach((fileName, index) => {
            const prizeNumber = index + 1;
            const encodedFileName = encodeURIComponent(fileName);
            const fullPath = `Prize/${encodedFileName}`;
            const baseName = fileName.replace(/\.[^/.]+$/, "").toUpperCase();
            const placeholderText = baseName.replace(/ /g, '+');

            prizeGrid.innerHTML += `
                <div class="prize-item">
                    <div class="prize-rank">PRIZE ${prizeNumber}</div>
                    <h3 class="prize-name">${baseName}</h3>
                    <div class="prize-image-container" data-src="${fullPath}" data-alt="${baseName}">
                        <img src="${fullPath}" alt="${baseName}"
                             onerror="this.onerror=null;this.src='https://placehold.co/400x180/ff00ff/050505?text=IMAGE+FOR+${placeholderText}+MISSING'">
                    </div>
                </div>
            `;
        });

        function openModal(src, alt) {
            modalImage.src = src;
            modalCaption.textContent = alt;
            modal.style.display = 'block';
        }

        function closeModal() {
            modal.style.display = 'none';
        }

        closeBtn.onclick = closeModal;
        modal.onclick = (e) => { if (e.target === modal) closeModal(); };

        prizeGrid.addEventListener('click', (e) => {
            const container = e.target.closest('.prize-image-container');
            if (container) openModal(container.dataset.src, container.dataset.alt);
        });

        // --- THREE.JS 3D BACKGROUND LOGIC ---
        initThreeJS();
    });

    // 3D Animation Function
    function initThreeJS() {
        const container = document.getElementById('canvas-container');
        const scene = new THREE.Scene();
        scene.fog = new THREE.FogExp2(0x050505, 0.002);

        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        camera.position.z = 50;

        const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        container.appendChild(renderer.domElement);

        // Particles
        const geometry = new THREE.BufferGeometry();
        const particleCount = 200; 
        const posArray = new Float32Array(particleCount * 3);

        for(let i = 0; i < particleCount * 3; i++) {
            posArray[i] = (Math.random() - 0.5) * 100;
        }

        geometry.setAttribute('position', new THREE.BufferAttribute(posArray, 3));

        // Material for Dots (Neon Blue)
        const material = new THREE.PointsMaterial({
            size: 0.7,
            color: 0x00ffff, 
            transparent: true,
            opacity: 0.8,
        });

        // Material for Lines (Neon Purple)
        const lineMaterial = new THREE.LineBasicMaterial({
            color: 0xbc13fe, 
            transparent: true,
            opacity: 0.3
        });

        const particlesMesh = new THREE.Points(geometry, material);
        scene.add(particlesMesh);

        // Mouse Interaction
        let mouseX = 0;
        let mouseY = 0;
        let targetX = 0;
        let targetY = 0;
        const windowHalfX = window.innerWidth / 2;
        const windowHalfY = window.innerHeight / 2;

        document.addEventListener('mousemove', (event) => {
            mouseX = (event.clientX - windowHalfX);
            mouseY = (event.clientY - windowHalfY);
        });

        // Animation Loop
        const clock = new THREE.Clock();

        const animate = () => {
            targetX = mouseX * 0.001;
            targetY = mouseY * 0.001;

            const elapsedTime = clock.getElapsedTime();

            particlesMesh.rotation.y = .1 * elapsedTime;
            particlesMesh.rotation.x += .05 * (targetY - particlesMesh.rotation.x);
            particlesMesh.rotation.y += .05 * (targetX - particlesMesh.rotation.y);

            // Dynamic Lines
            const lineGeometry = new THREE.BufferGeometry();
            const linePositions = [];
            const positions = particlesMesh.geometry.attributes.position.array;

            for (let i = 0; i < particleCount; i++) {
                const x1 = positions[i * 3];
                const y1 = positions[i * 3 + 1];
                const z1 = positions[i * 3 + 2];

                for (let j = i + 1; j < particleCount; j++) {
                    const x2 = positions[j * 3];
                    const y2 = positions[j * 3 + 1];
                    const z2 = positions[j * 3 + 2];

                    const dist = Math.sqrt(Math.pow(x1 - x2, 2) + Math.pow(y1 - y2, 2) + Math.pow(z1 - z2, 2));

                    if (dist < 15) {
                        linePositions.push(x1, y1, z1);
                        linePositions.push(x2, y2, z2);
                    }
                }
            }

            lineGeometry.setAttribute('position', new THREE.Float32BufferAttribute(linePositions, 3));
            
            const oldLines = scene.getObjectByName('networkLines');
            if (oldLines) scene.remove(oldLines);

            const lines = new THREE.LineSegments(lineGeometry, lineMaterial);
            lines.name = 'networkLines';
            lines.rotation.copy(particlesMesh.rotation);
            scene.add(lines);

            renderer.render(scene, camera);
            requestAnimationFrame(animate);
        };

        animate();

        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });
    }
</script>

</body>
</html>
